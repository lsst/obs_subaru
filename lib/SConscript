# -*- python -*-
#
#
Import("env")
import glob, os

env.SharedLibrary(
    'deblender',
	glob.glob("../src/*.cc") +
	['../src/photo/'+x+'.c' for x in [
	'deblend',
	'framestat',
	'brightObjects',
	'variablePsf',
	'convolve',
	'meschach',
	'sky',
	'measureObj',
	'objc',
	'object1',
	'phSpanUtil',
	'finder',
	'atlasImages',
	'random-fake',
	'utils',
	'offset',
	'mathUtils',
	'objectUtils',
	'astcen',
	'medianSky',
	'dgpsf',
	'cellfitobj',
	'apertures',
	'extract',
	'extract_utils',
	]]
	+
	['../src/astrotools/'+x+'.c' for x in [
	'atTrans',
	'atExternalSet',
	]]
	+
	['../src/dervish/'+x+'.c' for x in [
	'shChain',
	'shGarbage',
	'schema',
	'utils',
	'errStack',
	'diskio',
	'vecOps',
	'shHash',
	'region',
	'hdr',
	'tree',
	'maskUtils',
	'fake-fitsio',
	]]
	#glob.glob("../src/photo/*.c"),
	,
	LIBS=filter(lambda p: p != "deblender", env.getlibs("deblender"))
)
